body div, :before, :after {
    position: absolute;
    box-sizing: border-box;
}

body:after {
    content: '';
    background: #1e5799;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    transition: 0.3s ease-in-out;
    pointer-events: none;
}

body.loaded:after {
    opacity: 0;
}

div, :before, :after {
    background-size: cover;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
}

html, body {
    height: 100%;
    margin: 0;
    overflow: hidden;
    background: linear-gradient(to bottom, #1e5799 0%, #7db9e8 100%);
}

.horse, .horse div, .horse div:before, .horse div:after {
    width: 12.5vw;
    height: 10.0vw;
    z-index: 2;
}

.horse div:before, .horse div:after {
    content: '';
    background-image: url(../images/horse.gif);
    background-size: cover;
    left: 0;
    top: 0;
    transform: translate3d(0, 0, 0);
    transition: transform 0.5s;
}

.horse.run div:after {
    background-image: url(../images/horse-run.gif);
    transform: rotate(3deg) translate3d(0, 0, 0);
}

.horse.run div:before {
    background-image: url(../images/horse-run.gif);
    transform: rotate(-3deg) scaleY(-0.7) translate3d(0, -3%, 0);
}

.horse div:before {
    transform: rotate(0deg) scaleY(-0.7) translate3d(0, 1%, 0);
    top: 85%;
    left: 0;
    opacity: 0.8;
}

.horse div {
    transition: transform 0.5s;
}

.horse.right div {
    transform: scaleX(-1);
}

.ground {
    background: green;
    background: linear-gradient(to bottom, #0fe216 0%,#1a8433 100%);
    width: 100%;
    height: 10vh;
    position: fixed;
    bottom: 0;
}

.world {
    width: 0;
    top: 0;
    left: 50%;
    height: 90%;
    transform: translate3d(352px, 0, 0);
}

.world-center {
    width: 20px;
    background: brown;
    height: 30px;
    left: 50%;
    bottom: 0;
    transform: translatex(-50%);
}

.title {
    left: 55%;
    color: transparent;
    font-size: 30vw;
    font-family: monospace;
    bottom: -2vw;
    line-height: 0.8;
    z-index: 0;
    background-image: url(../images/campfire.gif);
    -webkit-background-clip: text;
    background-clip: text;
    background-size: 6vw;
}

.campfire, .evil-campfire {
    background-image: url(../images/campfire.gif);
    width: 20vw;
    height: 8vw;
    bottom: 0;
    background-size: 9vw 8vw;
    transform: translate3d(-35vw, 0, 0);
    background-blend-mode: multiply;
    background-repeat: no-repeat;
}

 .evil-campfire {
    background-image: url(../images/campfire.gif),  url(../images/campfire.gif);
    background-position: 0, 3vw;
    width: 20vw;
    height: 8vw;
    bottom: 0;
    background-size: 9vw 8vw, 7vw 8vw;
    transform: translate3d(-65vw, 0, 0);
    background-blend-mode: multiply;
 }

.girl, .girl div, .girl div:before, .girl div:after {
    content: '';
    width: 5vw;
    height: 8vw;
    z-index: 100;
    transform: translateZ(0) rotate(0) scaleX(1);
}

.girl div, .girl div:before, .girl div:after {
    transition: transform 0.5s;
    background-image: url(../images/girl-arms-around-knees.gif);
}

.girl div { background: none; }

.girl.right div {
    transform: translateZ(0) rotate(0) scaleX(-1);
}

.run.girl div:after {
    transform: translate3d(0.2vw, 0, 0) rotate(3deg);
}


.girl div:before {
    transition: transform 0.5s;
    background-image: url(../images/girl-arms-around-knees.gif);
    transform: translate3d(0, 14.6vw, 0) rotate(0) scaleY(-0.75);
    opacity: 0.8;
}

.girl.right div:before {
    transform: translate3d(0, 14.6vw, 0) rotate(0) scaleY(-0.75);
}

.run.girl div:before {
    transform: translate3d(0.2vw, 14.9vw, 0) rotate(-3deg) scaleY(-0.75);
}

.girl {
    bottom: 4.5vw;
}

.coin {
    width: 2vw;
    height: 3vw;
    background: yellow;
    
}

.coin.picked-up {
    transition: 0.5s transform, 0.9s opacity;
    opacity: 0;
}

.gnome, .gnome:before {
    width: 4vw;
    height: 6.3vw;
}

.gnome:before {
    content: '';
    background-image: url(../images/gnome-stand.gif);
}

.gnome.walk:before {
    background-image: url(../images/gnome-walk.gif);
    transform: scaleX(-1) rotate(0deg) translate(0, 0);
}

.gnome.walk.right:before {
    background-image: url(../images/gnome-walk.gif);
    transform: scaleX(1) rotate(0deg) translate(0, 0);
}

.gnome.attack:before {
    background-image: url(../images/gnome-stand.gif);
    animation: diveleft 1.1s linear infinite;
    animation-delay: 1.1s;
    transform: scaleX(-1) rotate(0deg) translate(0, 0);
}

.gnome.attack.right:before {
    background-image: url(../images/gnome-stand.gif);
    animation: diveright 1.1s linear infinite;
    animation-delay: 1.1s;
    transform: scaleX(1) rotate(0deg) translate(0, 0);
}

.wall {
    width: 4vw;
    height: 13vw;
}

.wall:before {
    content: '';
    width: 4vw;
    height: 13vw;
    background: brown;
}

.wall.shake:before {
    animation: shake 0.3s linear infinite;
    
    transform: translate(0, 0);
}

.wall.destroyed:before {
    height: 3vw;
    bottom: 0;
    background: #444;
}


@keyframes shake {
    0% {
        transform: translate(0, 0);
    }

    45% {
        transform: translate(0, 0);
    }

    50% {
        transform: translate(1vw, 0);
    }

    55% {
        transform: translate(-1vw, 0);
    }

    60% {
        transform: translate(0, 0);
    }

    100% {
        transform: translate(0, 0);
    }
}

@keyframes diveright {
    0% {
        transform: scaleX(1) rotate(0deg) translate(0, 0);
    }

    45% {
        transform: scaleX(1) rotate(0deg) translate(0, 0);
    }

    50% {
        transform: scaleX(1) rotate(90deg) translate(0, -4vw);
    }

    55% {
        transform: scaleX(1) rotate(0deg) translate(0, 0);
    }

    100% {
        transform: scaleX(1) rotate(0deg) translate(0, 0);
    }
}

@keyframes diveleft {
    0% {
        transform: scaleX(-1) rotate(0deg) translate(0, 0);
    }

    45% {
        transform: scaleX(-1) rotate(0deg) translate(0, 0);
    }

    50% {
        transform: scaleX(-1) rotate(90deg) translate(0, -4vw);
    }

    55% {
        transform: scaleX(-1) rotate(0deg) translate(0, 0);
    }

    100% {
        transform: scaleX(-1) rotate(0deg) translate(0, 0);
    }
}